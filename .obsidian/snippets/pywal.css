/*
 * OBSIDIAN PYWAL SYNC SNIPPET
 *
 * This snippet maps the standard 16-color Pywal palette (plus foreground/background)
 * to Obsidian's core CSS variables.
 *
 * ASSUMPTION: The following Pywal variables must be defined and available
 * in the Obsidian environment for this to work:
 * --pywal-background, --pywal-foreground, --pywal-accent,
 * --pywal-color0 through --pywal-color15.
 */

:root {
    /* -------------------------------------------
     * CORE BACKGROUNDS & TEXT
     * ------------------------------------------- */

    /* Main application background (Workspace, Editor) */
    --background-primary: var(--pywal-background);

    /* Sidebar, Modal, Search panel background */
    --background-secondary: var(--pywal-color0);

    /* Text color for notes and UI elements */
    --text-normal: var(--pywal-foreground);

    /* Faint/less important text (e.g., status bar, file explorer path) */
    --text-muted: var(--pywal-color7);

    /* Borders, separators, and subtle dividers */
    --background-modifier-border: var(--pywal-color8);


    /* -------------------------------------------
     * ACCENT & INTERACTIVE ELEMENTS
     * ------------------------------------------- */

    /* Main accent color for links, buttons, and selected states (Pywal Accent or color4/6) */
    --interactive-accent: var(--pywal-accent, var(--pywal-color4));

    /* Text color for accent elements (e.g., text on the accent button) */
    --text-accent: var(--pywal-foreground);

    /* Background color for hover/focused states (e.g., list items on hover) */
    --background-modifier-hover: color-mix(in srgb, var(--pywal-background) 80%, var(--pywal-accent) 20%);

    /* Background color for active/selected items (e.g., selected file in file explorer) */
    --background-modifier-active: color-mix(in srgb, var(--pywal-background) 50%, var(--pywal-accent) 50%);

    /* Background color for code blocks and inline code */
    --code-background: var(--pywal-color0);


    /* -------------------------------------------
     * SPECIFIC UI ELEMENTS
     * ------------------------------------------- */

    /* UI element highlighting (e.g., highlight on currently selected pane) */
    --background-modifier-success: var(--pywal-color2); /* Green */

    /* Warning/error colors */
    --text-error: var(--pywal-color1); /* Red */
    --background-modifier-error: var(--pywal-color1);

    /* Checkbox/Toggle color */
    --interactive-success: var(--pywal-color2);

    /* Mark colors (Highlights) - use a semi-transparent accent */
    --highlight-mix: color-mix(in srgb, var(--pywal-accent) 40%, transparent);

    /* Selection highlight */
    --text-selection: var(--highlight-mix);

    /* -------------------------------------------
     * CODE & SYNTAX HIGHLIGHTING (Simplified Mapping)
     * ------------------------------------------- */

    --syntax-color-comment: var(--pywal-color3);
    --syntax-color-keyword: var(--pywal-color4);
    --syntax-color-string: var(--pywal-color2);
    --syntax-color-number: var(--pywal-color5);
    --syntax-color-variable: var(--pywal-color6);

    /* Dark mode adjustments (if using a dark Pywal theme) */
    --text-faint: var(--pywal-color8);
}

/* Ensure foreground color is applied to input fields and buttons text */
.mod-root,
.side-dock-ribbon-tab,
.nav-file-title,
.search-input-container {
    color: var(--pywal-foreground) !important;
}

/* Make sure the scrollbar thumb is visible */
.is-mobile .cm-scroller::-webkit-scrollbar-thumb,
.cm-scroller::-webkit-scrollbar-thumb {
    background-color: var(--pywal-color7);
}
